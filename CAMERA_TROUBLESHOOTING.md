# 相機錄影問題故障排除指南

## 🔍 問題診斷

如果您遇到錄影問題（特別是 "Camera is not ready yet" 錯誤），請按照以下步驟進行診斷：

### 1. 基本檢查

#### 權限檢查
- **相機權限**: 確保應用已獲得相機權限
- **麥克風權限**: 確保應用已獲得麥克風權限（錄影需要）
- **存儲權限**: 確保有足夠的存儲空間

#### 系統需求
- **Android**: 6.0 (API level 23) 或更高
- **iOS**: 12.0 或更高
- **存儲空間**: 至少 500MB 可用空間

### 2. 使用內建診斷工具

#### 快速診斷
1. 打開翻譯功能
2. 如果相機未準備好，點擊「診斷相機」按鈕
3. 查看控制台輸出

#### 詳細診斷
1. 打開翻譯功能
2. 點擊「詳細診斷」按鈕
3. 點擊「開始診斷」
4. 查看設備資訊、權限狀態和建議解決方案

### 3. 常見問題和解決方案

#### 問題：相機權限被拒絕
**症狀**: 顯示權限請求頁面，但點擊授權後仍然被拒絕
**解決方案**:
1. 前往設定 > 隱私權 > 相機
2. 找到您的應用並啟用
3. 重新啟動應用

#### 問題：相機初始化失敗
**症狀**: 相機載入覆蓋層持續顯示
**解決方案**:
1. 點擊「重設相機」按鈕
2. 如果問題持續，重新啟動應用
3. 檢查其他相機應用是否正常工作

#### 問題：錄影立即停止
**症狀**: 點擊錄影按鈕後立即停止，沒有生成影片
**解決方案**:
1. 檢查存儲空間是否充足
2. 確保沒有其他應用正在使用相機
3. 嘗試重新啟動設備

#### 問題：權限永久被拒絕
**症狀**: 無法重新請求權限，顯示「前往設定」
**解決方案**:
1. 手動前往系統設定
2. 應用管理 > [應用名稱] > 權限
3. 啟用相機和麥克風權限
4. 重新啟動應用

### 4. 平台特定解決方案

#### Android 設備
```bash
# 清除應用快取
設定 > 應用 > [應用名稱] > 存儲 > 清除快取

# 重設應用權限
設定 > 應用 > [應用名稱] > 權限 > 重設權限
```

#### iOS 設備
```bash
# 重設隱私權設定
設定 > 一般 > 重置 > 重置位置與隱私權

# 手動啟用權限
設定 > 隱私權與安全性 > 相機 > [應用名稱]
```

### 5. 開發者調試信息

#### 控制台日誌
啟用開發者模式後，查看以下日誌：
- `📷 相機準備回調觸發`
- `✅ 相機狀態設定為準備好`
- `🎥 嘗試開始錄影`
- `🟢 開始錄影...`
- `✅ 錄影完成`

#### 錯誤信息解析
- `Camera is not ready yet`: 相機尚未完全初始化
- `Permission denied`: 權限被拒絕
- `No storage space`: 存儲空間不足
- `Camera already in use`: 相機被其他應用占用

### 6. 最後手段

如果所有方法都無法解決問題：

1. **重新安裝應用**
   - 完全卸載應用
   - 重新安裝
   - 重新授權所有權限

2. **聯絡技術支援**
   - 使用「詳細診斷」收集系統信息
   - 複製診斷資料
   - 提供給技術支援團隊

3. **使用替代方案**
   - 使用「選擇影片」功能從相簿選擇預錄影片
   - 使用其他相機應用錄製後導入

### 7. 預防措施

為避免未來出現問題：
- 定期更新應用
- 保持系統版本最新
- 定期清理存儲空間
- 避免同時使用多個相機應用

## 📱 快速檢查清單

- [ ] 相機權限已授權
- [ ] 麥克風權限已授權
- [ ] 存儲空間充足 (>500MB)
- [ ] 系統版本符合需求
- [ ] 沒有其他應用使用相機
- [ ] 應用已更新到最新版本
- [ ] 已嘗試重新啟動應用
- [ ] 已嘗試重設相機狀態

如果所有項目都已檢查但問題仍然存在，請使用詳細診斷工具收集更多信息。